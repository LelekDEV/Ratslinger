[gd_scene load_steps=23 format=4 uid="uid://gliuja466pg6"]

[ext_resource type="Texture2D" uid="uid://8qakvdh1gbpa" path="res://graphics/sand_tile.png" id="1_ncd4d"]
[ext_resource type="Script" uid="uid://h08581xbp5g1" path="res://scripts/game.gd" id="1_o8yes"]
[ext_resource type="PackedScene" uid="uid://gyh7j0jqrav6" path="res://scenes/player.tscn" id="1_rf1xt"]
[ext_resource type="PackedScene" uid="uid://lw0lbb371my5" path="res://scenes/crosshair.tscn" id="2_7dpn4"]
[ext_resource type="Texture2D" uid="uid://b4o500yul4vkb" path="res://graphics/Hearth.png" id="2_86ske"]
[ext_resource type="Script" uid="uid://do3ehr4w1u0d6" path="res://scripts/camera.gd" id="4_bq78c"]
[ext_resource type="Texture2D" uid="uid://kk3dfut1xl6v" path="res://graphics/cacti.png" id="4_wcdyl"]
[ext_resource type="PackedScene" uid="uid://b74p6grnvdpcy" path="res://scenes/enemy.tscn" id="5_1qygq"]

[sub_resource type="AtlasTexture" id="AtlasTexture_l77qo"]
atlas = ExtResource("2_86ske")
region = Rect2(0, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_836xp"]
atlas = ExtResource("2_86ske")
region = Rect2(50, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_s3lrj"]
atlas = ExtResource("2_86ske")
region = Rect2(100, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_sh5j3"]
atlas = ExtResource("2_86ske")
region = Rect2(150, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_r3fff"]
atlas = ExtResource("2_86ske")
region = Rect2(200, 0, 50, 50)

[sub_resource type="SpriteFrames" id="SpriteFrames_b3wgx"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l77qo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_836xp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s3lrj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sh5j3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_r3fff")
}],
"loop": true,
"name": &"heart",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_3rh43"]
atlas = ExtResource("2_86ske")
region = Rect2(0, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_86ske"]
atlas = ExtResource("2_86ske")
region = Rect2(50, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_ijxjl"]
atlas = ExtResource("2_86ske")
region = Rect2(100, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_55u7g"]
atlas = ExtResource("2_86ske")
region = Rect2(150, 0, 50, 50)

[sub_resource type="AtlasTexture" id="AtlasTexture_xw82j"]
atlas = ExtResource("2_86ske")
region = Rect2(200, 0, 50, 50)

[sub_resource type="SpriteFrames" id="SpriteFrames_2mmsw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_3rh43")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_86ske")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ijxjl")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_55u7g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xw82j")
}],
"loop": true,
"name": &"heart",
"speed": 5.0
}]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_o8yes"]
texture = ExtResource("4_wcdyl")
0:0/size_in_atlas = Vector2i(2, 3)
0:0/0 = 0
2:0/size_in_atlas = Vector2i(2, 3)
2:0/0 = 0
4:0/size_in_atlas = Vector2i(2, 3)
4:0/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0

[sub_resource type="TileSet" id="TileSet_bq78c"]
tile_size = Vector2i(4, 4)
sources/1 = SubResource("TileSetAtlasSource_o8yes")

[node name="Game" type="Node2D"]
script = ExtResource("1_o8yes")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 10

[node name="HeartUI" type="Node2D" parent="CanvasLayer"]
z_index = 10

[node name="HeartLeft" type="AnimatedSprite2D" parent="CanvasLayer/HeartUI" groups=["hearts"]]
z_index = 10
position = Vector2(69, 66)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_b3wgx")
animation = &"heart"

[node name="HeartRight" type="AnimatedSprite2D" parent="CanvasLayer/HeartUI" groups=["hearts"]]
z_index = 10
position = Vector2(208, 65)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_2mmsw")
animation = &"heart"

[node name="Sand" type="Sprite2D" parent="."]
texture_repeat = 2
texture = ExtResource("1_ncd4d")
region_enabled = true
region_rect = Rect2(0, 0, 648, 468)
metadata/_edit_lock_ = true

[node name="Player" parent="." groups=["player"] instance=ExtResource("1_rf1xt")]
metadata/_edit_lock_ = true

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(4, 4)
process_callback = 0
limit_left = -324
limit_top = -234
limit_right = 324
limit_bottom = 234
position_smoothing_enabled = true
script = ExtResource("4_bq78c")

[node name="Enemies" type="Node" parent="."]

[node name="FoxEnemy" parent="Enemies" instance=ExtResource("5_1qygq")]
position = Vector2(-33, 52)

[node name="Projectiles" type="Node" parent="." groups=["projectiles"]]

[node name="Bullets" type="Node" parent="." groups=["bullets"]]

[node name="Crosshair" parent="." instance=ExtResource("2_7dpn4")]
z_index = 1
metadata/_edit_lock_ = true

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AADL/8v/AQAAAAAAAADb/83/AQACAAAAAADk/83/AQACAAMAAADu/8z/AQAAAAAAAAD6/87/AQADAAMAAAACAMv/AQAAAAMAAAAIAM7/AQABAAMAAAASAMz/AQACAAAAAAAfAMv/AQAEAAAAAAApAM7/AQACAAMAAAAyAMz/AQACAAMAAAA7AM3/AQAAAAAAAABGAMz/AQACAAAAAABLANj/AQAAAAAAAABHAOP/AQADAAMAAABLAOr/AQABAAMAAABHAO3/AQAAAAMAAABLAPL/AQACAAMAAABHAPn/AQAAAAAAAABMAAMAAQAEAAAAAABIAA8AAQACAAAAAABMABgAAQACAAMAAABIAB4AAQADAAMAAABLACgAAQACAAAAAABFADMAAQAAAAAAAAA6ADEAAQADAAMAAAA0ADIAAQAAAAAAAAAsADEAAQAAAAMAAAAmADQAAQAAAAMAAAAeADEAAQACAAMAAAAVADMAAQACAAAAAAALADMAAQADAAMAAAACADAAAQACAAMAAAAAADYAAQABAAMAAAD3/zMAAQAEAAAAAADu/zIAAQAAAAAAAADg/zMAAQACAAAAAADW/zIAAQACAAMAAADO/zYAAQADAAMAAADJ/zAAAQACAAMAAADF/zUAAQABAAMAAADA/zQAAQAAAAMAAAC4/zIAAQACAAAAAACy/yUAAQAAAAAAAADD/8n/AQADAAMAAAC7/87/AQADAAMAAACz/9X/AQACAAAAAAA=")
tile_set = SubResource("TileSet_bq78c")

[node name="ReferenceRect" type="ReferenceRect" parent="."]
offset_left = -270.0
offset_top = -180.0
offset_right = 270.0
offset_bottom = 180.0
metadata/_edit_lock_ = true

[node name="EnemySpawnTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[connection signal="timeout" from="EnemySpawnTimer" to="." method="_on_enemy_spawn_timer_timeout"]
